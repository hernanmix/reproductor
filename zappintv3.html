<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>JW Player</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Librería oficial JW Player -->
  <script src="https://ssl.p.jwpcdn.com/player/v/8.26.0/jwplayer.js"></script>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      width: 100%;
      background: #000;
    }
    #player {
      position: fixed;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      z-index: 9999;
    }
  </style>
</head>
<body>

  <div id="player"></div>

  <script>
    jwplayer.key = "XSuP4qMl+9tK17QNb+4+th2Pm9AWgMO/cYH8CI0HGGr7bdjo";

    jwplayer("player").setup({
      file: "https://iaw5b.envivoslatam.org:443/tudn_usa/tracks-v1a1/mono.m3u8?ip=45.224.153.13&token=6b7ead7fddd6812f82b0bb4e4b319991963f0a34-93-1772298147-1772244147",
      width: "100%",
      height: "100%",
      autostart: true,
      controls: true,
      aspectratio: "16:9",
      stretching: "uniform",
      skin: { name: "seven" }
    });

    // Ajuste automático al entrar/salir de fullscreen
    jwplayer("player").on("fullscreen", function(e) {
      if (e.fullscreen) {
        jwplayer("player").setConfig({ stretching: "exactfit" });
      } else {
        jwplayer("player").setConfig({ stretching: "uniform" });
      }
    });
  </script>

</body>
</html>

  <script>
    function loadChannel(page) {
      document.getElementById('playerFrame').src = page;
      // cerrar menú al seleccionar canal
      document.getElementById('menu').style.display = 'none';
    }

    // abrir/cerrar menú al tocar botón
    document.getElementById('menuBtn').onclick = function() {
      const menu = document.getElementById('menu');
      menu.style.display = (menu.style.display === 'block') ? 'none' : 'block';
    };

    document.getElementById('chatBtn').onclick = function() {
      const chat = document.getElementById('chatFrame');
      chat.style.display = (chat.style.display === 'block') ? 'none' : 'block';
    };

    // Lógica de flotante con placeholder
    const player = document.getElementById("playerFrame");
    const placeholder = document.getElementById("placeholder");

    window.addEventListener("scroll", function() {
      const scrollY = window.scrollY;
      const triggerPoint = player.offsetHeight;

      if (scrollY > triggerPoint) {
        player.classList.add("floating");
        placeholder.style.display = "block"; // reserva espacio
      } else {
        player.classList.remove("floating");
        placeholder.style.display = "none"; // quita espacio
      }
    });
  </script>

</body>
</html>
