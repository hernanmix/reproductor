<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Reproductor Live</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { margin:0; background:#000; }
    #player { width:100%; height:100vh; }
  </style>
</head>
<body>
  <div id="player"></div>

  <!-- JWPlayer CDN -->
  <script src="//ssl.p.jwpcdn.com/player/v/8.25.1/jwplayer.js"></script>
  <script>
    // Tu licencia JWPlayer
    jwplayer.key = "XSuP4qMl+9tK17QNb+4+th2Pm9AWgMO/cYH8CI0HGGr7bdjo";

    // Obtener par谩metro id de la URL
    function getQueryParameter(name) {
      let urlParams = new URLSearchParams(window.location.search);
      return urlParams.get(name);
    }

    function setupPlayer(jsonData) {
      var imageUrl = "https://disney.images.edge.bamgrid.com/ripcut-delivery/v2/variant/disney/" 
                     + jsonData.img + "/compose";

      jwplayer("player").setup({
        playlist: [{
          image: imageUrl,
          sources: [{
            default: true,
            type: "dash",
            file: jsonData.url,
            drm: {
              clearkey: { keyId: jsonData.k1, key: jsonData.k2 }
            },
            label: "HD"
          }]
        }],
        width: "100%",
        height: "100vh",
        autostart: true,
        stretching: "uniform",
        controls: true
      });
    }

    document.addEventListener("DOMContentLoaded", function() {
      var id = getQueryParameter("id");
      if (id) {
        fetch("https://jstreamec.github.io/ecplaytv/final_events.json?v=" + Date.now())
          .then(response => response.json())
          .then(data => {
            const matchingItem = data.find(item => item.nombre === id);
            if (matchingItem) {
              setupPlayer(matchingItem);
            } else {
              document.getElementById("player").innerHTML = 
                "<p style='color:red'>Evento no encontrado</p>";
            }
          })
          .catch(error => {
            console.error("Error cargando JSON:", error);
            document.getElementById("player").innerHTML = 
              "<p style='color:red'>Error cargando transmisi贸n</p>";
          });
      } else {
        document.getElementById("player").innerHTML = 
          "<p style='color:red'>No se encontr贸 par谩metro id</p>";
      }
    });
  </script>
<style>
.menu-inferior {
  position:fixed;
  bottom:0; left:0; right:0;
  background:#111; /* fondo oscuro */
  display:flex; justify-content:space-around;
  padding:10px 0;
  z-index:9999; /* siempre encima */
}
.menu-inferior a {
  color:#fff; /* texto blanco */
  text-decoration:none;
  font-weight:bold;
  padding:10px 20px;
  border-radius:6px;
  transition:all 0.3s ease;
}
.menu-inferior a:hover {
  background:#333;
  transform:translateY(-5px);
  box-shadow:0 4px 10px rgba(0,0,0,0.5);
}
</style>

<div class='menu-inferior'>
  <!-- Bot贸n Inicio &#8594; tu agenda Blogger -->
  <a href='https://hsports4hd.blogspot.com/p/hsportshd.html?m=1#'> Inicio</a>
  
  <!-- Bot贸n TV &#8594; referencia go:tv en AppCreator24 -->
  <a href='https://hsports4hd.blogspot.com/2026/02/tv.html?m=1'> TV</a>
  
  <!-- Bot贸n Donar &#8594; referencia go:donar o tu URL de donaciones -->
  <a href='https://hsports4hd.blogspot.com/2026/02/donar.html?m=1'> Donar</a>
  
   <!-- Bot贸n Disney+ &#8594; referencia go:disney+ o tu URL de agenda disney+ -->
  <a href='https://hsports4hd.blogspot.com/2026/02/disney2.html'>Disney+</a>
</div>


<div style="display:none;"><img id="vw24" src="//whos.amung.us/cwidget/gdnr7m8zcy/000000ffffff.png" style="display: none !important;"></div>
<script>var vw24 = document.getElementById("vw24");setInterval(function(){vw24.src="//whos.amung.us/cwidget/gdnr7m8zcy/000000ffffff.png?"+new Date().getTime()},100000);</script>

<script type="text/javascript">var _Hasync= _Hasync|| [];
_Hasync.push(['Histats.start', '1,4743517,4,0,0,0,00010000']);
_Hasync.push(['Histats.fasi', '1']);
_Hasync.push(['Histats.track_hits', '']);
(function() {
var hs = document.createElement('script'); hs.type = 'text/javascript'; hs.async = true;
hs.src = ('//s10.histats.com/js15_as.js');
(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(hs);
})();</script>
<noscript><a href="/" target="_blank"><img  src="//sstatic1.histats.com/0.gif?4743517&101" alt="counter create hit" border="0"></a></noscript>

  <!-- Bot贸n flotante Inicio -->
<a href="https://hsports4hd.blogspot.com/p/hsportshd.html?m=1#" id="btnInicio"></a>

<style>
#btnInicio {
  position: fixed;
  bottom: 20px;
  right: 20px;
  background: transparent; /* transparente */
  color: white;
  font-size: 28px;
  text-decoration: none;
  border: 2px solid white;
  border-radius: 50%;
  padding: 10px 14px;
  z-index: 9999;
  cursor: pointer;
  display: none; /* oculto por defecto */
}
#btnInicio:focus {
  outline: 3px solid yellow; /* resalta al navegar con control remoto */
}
</style>

<script>
// Detectar dispositivo
function isSmartTVorPC() {
  const ua = navigator.userAgent.toLowerCase();
  // Detecta Android TV, Google TV, Smart TV o escritorio
  return (
    ua.includes("smarttv") ||
    ua.includes("googletv") ||
    ua.includes("androidtv") ||
    ua.includes("tv") ||
    !/mobile|android|iphone|ipad/.test(ua) // PC
  );
}

document.addEventListener("DOMContentLoaded", () => {
  if (isSmartTVorPC()) {
    document.getElementById("btnInicio").style.display = "block";
  }
});
</script>

</body>
</html>
